<!-- Including the header partial, which contains common HTML code such as the <head> section -->
<%- include('partials/header') %>

<div class="container mt-5">
  <h1>Reset Password</h1>
  <div class="card">
    <div class="card-body">
      <form id="resetPasswordForm" action="/reset-password/<%= token %>" method="POST">
        <div class="form-group">
          <label for="password">New Password</label>
          <input type="password" class="form-control" name="newPassword" id="password" required>
        </div>
        <div class="form-group">
          <label for="confirmPassword">Confirm Password</label>
          <input type="password" class="form-control" name="confirmPassword" id="confirmPassword" required>
          <span id="passwordMatchIcon"></span>
        </div>
        <button type="submit" class="btn btn-dark">Reset Password</button>
      </form>
    </div>
  </div>
</div>

<script>

  // JavaScript for password match functionality
  const passwordField = document.getElementById('password');
  const confirmPasswordField = document.getElementById('confirmPassword');
  const passwordMatchIcon = document.getElementById('passwordMatchIcon');

  confirmPasswordField.addEventListener('input', () => {
    const password = passwordField.value;
    const confirmPassword = confirmPasswordField.value;

    // Checking if passwords match
    if (password === confirmPassword) {
      passwordMatchIcon.innerHTML = '<span class="text-success">&#10004;</span>'; // Tick icon
    } else {
      passwordMatchIcon.innerHTML = '<span class="text-danger">&#10006;</span>'; // Cross icon
    }
  });
</script>

<%- include('partials/footer') %>
